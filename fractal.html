<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fractal Explorer</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: #fff;
        }
        
        #container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        
        #canvas {
            border: 2px solid #444;
            display: block;
            margin: 0 auto;
            cursor: crosshair;
            background: #000;
        }
        
        #info {
            text-align: center;
            margin-top: 10px;
            font-size: 14px;
            color: #888;
        }
    </style>
</head>
<body>
    <div id="container">
        <h1>Fractal Explorer</h1>
        <canvas id="canvas" width="800" height="600"></canvas>
        <div id="info">Loading...</div>
    </div>

    <script>
        // ===== DAY 1: BASIC SETUP =====
        
        // Step 1: Get the canvas element and its drawing context
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const info = document.getElementById('info');
        
        // Step 2: Canvas dimensions
        const WIDTH = canvas.width;   // 800 pixels
        const HEIGHT = canvas.height; // 600 pixels
        
        // Step 3: Test that canvas works - draw a simple gradient
        function drawMandelbrot() {
    const imageData = ctx.createImageData(WIDTH, HEIGHT);
    const pixels = imageData.data;
    
    const maxIterations = 100;  // How many times we test each point
    
    // Map canvas coordinates to complex plane
    // Standard view: real axis from -2.5 to 1, imaginary from -1 to 1
    const xMin = -2.5;
    const xMax = 1.0;
    const yMin = -1.0;
    const yMax = 1.0;
    
    for (let py = 0; py < HEIGHT; py++) {
        for (let px = 0; px < WIDTH; px++) {
            // Convert pixel to complex number
            const x0 = xMin + (px / WIDTH) * (xMax - xMin);
            const y0 = yMin + (py / HEIGHT) * (yMax - yMin);
            
            // Mandelbrot iteration: z = z² + c
            let x = 0;
            let y = 0;
            let iteration = 0;
            
            // Keep iterating while |z| < 2 and we haven't hit max
            while (x*x + y*y <= 4 && iteration < maxIterations) {
                // Complex multiplication: (x + yi)² = (x² - y²) + (2xy)i
                const xTemp = x*x - y*y + x0;
                y = 2*x*y + y0;
                x = xTemp;
                iteration++;
            }
            
            // Color based on how quickly it escaped
            const index = (py * WIDTH + px) * 4;
            
            if (iteration === maxIterations) {
                // In the set - black
                pixels[index + 0] = 0;
                pixels[index + 1] = 0;
                pixels[index + 2] = 0;
            } else {
                // Escaped - color based on iteration count
                const color = (iteration / maxIterations) * 255;
                pixels[index + 0] = color;
                pixels[index + 1] = color;
                pixels[index + 2] = color * 0.5;  // Less blue for variation
            }
            pixels[index + 3] = 255;
        }
    }
    
    ctx.putImageData(imageData, 0, 0);
    info.textContent = 'Mandelbrot Set rendered!';
}

// Call it instead of testCanvas()
drawMandelbrot();
            

        
        // ===== YOUR TASK =====
        // 1. Save this file as fractal.html
        // 2. Open it in a browser (Chrome/Firefox)
        // 3. You should see a red-blue gradient
        // 4. Reply back: "Day 1 complete - I see the gradient"
        
        // ===== UNDERSTANDING CHECK =====
        // Can you answer these?
        // Q1: Why do we multiply by 4 when calculating index?
        // Q2: What does pixels[index + 3] = 255 do?
        // Q3: What would happen if you set pixels[index + 1] = 255?
    </script>
</body>
</html>